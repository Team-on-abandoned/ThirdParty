<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- http://hge.relishgames.com -->

<html>

<head>
<meta name="Keywords" content="game engine, 2d, hardware accelerated, hge, engine, relish games, game development">
<meta name="Description" content="Haaf's Game Engine - Hardware accelerated 2D games engine">
<title>Haaf's Game Engine - Игровой 2D движок с поддержкой аппаратного ускорения</title>
<link rel=stylesheet type=text/css href=hge.css>
<script language="JavaScript" src="hge.js"></script>
</head>

<body onload="setContents('cnt_hgeresource.html');" bgcolor=#ffffff text=#000000 link=#7F0000 vlink=#7F0000 alink=#7F0000 marginwidth=0 marginheight=0 leftmargin=0 topmargin=0>
<table height=100% cellspacing=0 cellpadding=0 border=0><tr>

<td valign=top>
<table width=566 cellspacing=0 cellpadding=20 border=0><tr><td>
<h1 style="margin-top:0px">Скрипт ресурсов</h1>
<p>
Файлы скриптов ресурсов используются во вспомогательном классе <a href="hgeresource__main.html">hgeResourceManager</a> 
для определения сложных ресурсов. Это простой текстовый файл, содержаший определения ресурсов.
</p>
<h2>Общие правила</h2>
<p>
Скрипт ресурсов состоит из команд, разделенных символами пробела ('\t', '\n', '\r' or ' ').
Если обнаружена точка с запятой (';'), то вся остальная часть строки рассматривается как комментарий 
пользователя и игнорируется. Все команды и названия регистрозависимые.
<br><br>
Общий формат команд такой:
</p>
<pre>
ResourceType ResourceName : BaseResourceName
{
 Parameter1=Value1
 Parameter2=Value2
 ...
 ParameterN=ValueN
}
</pre>
<p>
Параметры могут появляться в любом порядке. Большинство параметров имеют значения по умолчанию и
могут быть опущены. Если параметр имеет много значений, все они должны быть указаны. Множественные 
значения должны быть разделены запятыми : ','.
<br><br>
Названия ресурсов являются словами, которые начинаются с буквы и разделяются символами пробелов. 
Ресурсы разных типов не могут иметь одинаковые названия. Нельзя также выбирать названия ресурсов 
совпадающие с названиями команд или параметров. Символы ',', ':', '{', '}' и '=' тоже не доступны в 
именах. Чтобы определить имя ресурса или путь к файлц содержаший пробелы и/или специальные символы, 
используйте кавычки: "01name:part1 part2". Помните, что строчки в кавычках не могут занимать 
несколько строк.
<br><br>
Если указан <b>BaseResourceName</b> и объявлен ресурс с таким названием все параметры копируются в
новый ресурс и только указанные заменяются новыми значениями.
<br><br>
Если <a href="hgeresource__main.html">hgeResourceManager</a> обнаруживает ошибки, загружая скрпит 
ресурсов, он пытвется пропустить наименьшую часть файла. Все ошибки анализа скрипта записываются в 
файл протокола с максимально возможным объяснением.
</p>
<h2>Команда Include</h2>
<p>
Команда "Include" включает другой файл сприпта для обработки. Это позволяет разбивать ваши скрипты 
на несколько файлов и использовать их в различных комбинациях. Циклические ссылки и ссылки на себя 
автоматически определяются и игнорируются.
<br><br>
Пример:
</p>
<pre>
Include level2.res
</pre>
<h2>Команда Resource</h2>
<p>
Команда "Resource" определяет простой ресурс. Поддерживает параметры:
</p>
<dl>
<dt>filename
<dd>Имя файла простого ресурса, абсолютное или относительное к директории приложнеия или корню архива
ресурсов.
<dt>resgroup
<dd>Целочисленный идентификатор группы. По умолчанию равен 0, что значит неопределенную группу.
</dl>
<p>
Пример:
</p>
<pre>
Resource level1
{
 filename=levels\level1.dat
 resgroup=1
}
</pre>
<h2>Команда Texture</h2>
<p>
Команда "Texture" определяет текстуру. Поддерживает параметры:
</p>
<dl>
<dt>filename
<dd>Имя файла текстуры, абсолютное или относительное к директории приложнеия или корню архива
ресурсов.
<dt>resgroup
<dd>Целочисленный идентификатор группы. По умолчанию равен 0, что значит неопределенную группу.
</dl>
<p>
Пример:
</p>
<pre>
Texture background
{
 filename=images\bg.jpg
 resgroup=1
}
</pre>
<h2>Команда Sound</h2>
<p>
Команда "Sound" определяет звуковой эффект. Поддерживает параметры:
</p>
<dl>
<dt>filename
<dd>Имя файла звукового эффекта, абсолютное или относительное к директории приложнеия или корню архива
ресурсов.
<dt>resgroup
<dd>Целочисленный идентификатор группы. По умолчанию равен 0, что значит неопределенную группу.
</dl>
<p>
Пример:
</p>
<pre>
Sound explosion1
{
 filename=sounds\expl1.ogg
 resgroup=1
}
</pre>
<h2>Команда Music</h2>
<p>
Команда "Music" определяет музыку. Поддерживает параметры:
</p>
<dl>
<dt>filename
<dd>Имя файла музыки, абсолютное или относительное к директории приложнеия или корню архива
ресурсов.
<dt>resgroup
<dd>Целочисленный идентификатор группы. По умолчанию равен 0, что значит неопределенную группу.
</dl>
<p>
Пример:
</p>
<pre>
Music main_theme
{
 filename=sounds\music1.xm
 resgroup=1
}
</pre>
<h2>КомандаStream</h2>
<p>
Команда "Stream" определяет аудио поток. Поддерживает параметры:
</p>
<dl>
<dt>filename
<dd>Имя файла звукового потока, абсолютное или относительное к директории приложнеия или корню архива
ресурсов.
<dt>resgroup
<dd>Целочисленный идентификатор группы. По умолчанию равен 0, что значит неопределенную группу.
</dl>
<p>
Example:
</p>
<pre>
Stream sountrack1
{
 filename=ost.mp3
 resgroup=1
}
</pre>
<h2>Команда Target</h2>
<p>
Команда "Target" определяет цель рендеринга. Поддерживает парметры:
</p>
<dl>
<dt>size
<dd>Размеры цели рендеринга, два целых числа: ширина и высота. Должны являться степенью 2. Значение
по умолчанию - 256x256.
<dt>zbuffer
<dd>Булево значение, опрделяющее, использовать Z-буфер для этой цели рендеринга или нет. Значение по
умолчанию - <b>false</b>.
<dt>resgroup
<dd>Целочисленный идентификатор группы. По умолчанию равен 0, что значит неопределенную группу.
</dl>
<p>
Пример:
</p>
<pre>
Target HUD
{
 size=256,256
 zbuffer=false
 resgroup=1
}
</pre>
<h2>Команда Sprite</h2>
<p>
Команда "Sprite" определяет спрайт. Поддерживает параметры:
</p>
<dl>
<dt>texture
<dd>Название текстуры для спрайта. Может быть названием определенной ранее текстуры или просто
названием файла.
<dt>rect
<dd>Область текстуры, используемая для спрайта, четыре числа с плавающей точкой: X и Y координаты
левой верхней точки, ширина и высота.
<dt>hotspot
<dd>Центр спрайта, два числа с плавающей точкой: X и Y смещения от левого верхнего угла спрайта.
Значения по умолчанию - 0,0.
<dt>blendmode
<dd>Режим смешивания, список из одной или нескольких следующих констант:
<b>COLORMUL</b>, <b>COLORADD</b>, <b>ALPHABLEND</b>, <b>ALPHAADD</b>,
<b>ZWRITE</b>, <b>NOZWRITE</b>. Смотрите <a href="hgeconst_blendmode.html">Режимы смешивания</a> для
более детального описания.
Значение по умолчанию - <b>COLORMUL</b>, <b>ALPHABLEND</b>, <b>NOZWRITE</b>.
<dt>color
<dd>Цвет спрайта, шестнадцатиричное значение. Смотрите
<a href="hgedata_hwcolor.html">Аппаратный формат цвета</a> для более подробной информации.
Значение по умолчанию - FFFFFFFF.
<dt>zorder
<dd>Z-глубина спрайта: число с плавающей запятой. Значение по умолчанию - 0.5.
<dt>flip
<dd>Два булевых значения, определяющих нужно ли отражать спрайт горизонтально и вертикально.
Значения по умолчанию - <b>false</b>, <b>false</b>.
<dt>resgroup
<dd>Целочисленный идентификатор группы. По умолчанию равен 0, что значит неопределенную группу.
</dl>
<p>
Пример:
</p>
<pre>
Sprite wizard
{
 texture=characters
 rect=0,0,32,32
 hotspot=16,16
 blendmode=COLORMUL,ALPHABLEND,NOZWRITE
 resgroup=1
}

Sprite orc : wizard
{
 rect=0,64,32,32
 color=FF808000
}
</pre>
<h2>Команда Animation</h2>
<p>
Команда "Animation" определяет анимацию. Она содержит все параметры команды Sprite и плюс следующие:
</p>
<dl>
<dt>frames
<dd>Общее число кадров анимации, целое число. Значение по умолчанию - 1.
<dt>fps
<dd>Скорость воспроизведение анимации (кадров в секунду), число с плавающей точкой. Значение по 
умолчанию - 12.0.
<dt>mode
<dd>Режим воспроизведения анимации, список из одного или нескольких следующих констант:
<b>FORWARD</b>, <b>REVERSE</b>, <b>PINGPONG</b>, <b>NOPINGPONG</b>,
<b>LOOP</b>, <b>NOLOOP</b>. Смотрите <a href="hgeanim_setmode.html">hgeAnimation::SetMode</a> для 
более детального описания.
Значения по умолчанию <b>FORWARD</b>, <b>LOOP</b>.
</dl>
<p>
Пример:
</p>
<pre>
Animation hero.walk
{
 texture=characters
 rect=0,128,32,32
 frames=8
 fps=6.0
 mode=FORWARD,NOLOOP
 hotspot=16,16
 blendmode=COLORMUL,ALPHABLEND,NOZWRITE
 resgroup=1
}
</pre>
<h2>Команда Font</h2>
<p>
Команда "Font" опредляет шрифт. Поддерживает параметры:
</p>
<dl>
<dt>filename
<dd>Имя <a href="hgefont_description.html">файла описания шрифта</a>, абсолютное или относительное к директории приложнеия или корню архива
ресурсов.
<dt>blendmode
<dd>Режим смешивания, список из одного или нескольких следующих констант:
<b>COLORMUL</b>, <b>COLORADD</b>, <b>ALPHABLEND</b>, <b>ALPHAADD</b>,
<b>ZWRITE</b>, <b>NOZWRITE</b>. Смотрите <a href="hgeconst_blendmode.html">Режимы смешивания</a> для
Значение по умолчанию - <b>COLORMUL</b>, <b>ALPHABLEND</b>, <b>NOZWRITE</b>.
<dt>color
<dd>Цвет шрифта, шестнадцатиричное число: Смотрите <a href="hgedata_hwcolor.html">Аппаратный формат
цвета</a> для подробного описания. Значение по умолчанию - FFFFFFFF.
<dt>zorder
<dd>Z-глубина шрифта: число с плавающей точкой. Значение по умолчанию 0.5.
<dt>scale
<dd>Коэффициент масштабирования шрифта, число с плавающей запятой. Значение по умолчанию - 1.0.
<dt>rotation
<dd>Угол поворота символов в радианах, число с плавающей точкой. Значение по умолчанию - 0.0.
<dt>tracking
<dd>Разряженность шрифта в пикселях, число с плавающей точкой. Может быть отрицательным. Значение по
умолчанию - 0.0.
<dt>resgroup
<dd>Целочисленный идентификатор группы. По умолчанию равен 0, что значит неопределенную группу.
</dl>
<p>
Пример:
</p>
<pre>
Font tengwar
{
 filename=fonts\tengwar.fnt
 tracking=1.0
 resgroup=1
}
</pre>
<h2>Команда Particle</h2>
<p>
Команда "Particle" определяет систему частиц. Поддерживает параметры:
</p>
<dl>
<dt>filename
<dd>Имя файла <a href="peditor_presets.html">пресета системы частиц</a>, абсолютное или относительное к директории приложнеия или корню архива
ресурсов.
<dt>sprite
<dd>Имя спрайта, которое необходимо использовать в системе частиц.
<dt>fps
<dd>Частота обновления системы частиц (кадров в секунду), число с плавающей точкой. Значение по 
умолчанию 0.0, означает неограниченное обновление.
<dt>resgroup
<dd>Целочисленный идентификатор группы. По умолчанию равен 0, что значит неопределенную группу.
</dl>
<p>
Пример:
</p>
<pre>
Particle explosion1
{
 filename=data\explosion1.psi
 sprite=explosion1
 fps=50.0
 resgroup=1
}
</pre>
<h2>Команда Distortion</h2>
<p>
Команда "Distortion" определяет сетку искажения. Поддерживает параметры:
</p>
<dl>
<dt>texture
<dd>Название текстуры, которое нужно использвать в сетке. Может быть ранее указанная текстура или
просто имя файла.
<dt>rect
<dd>Область текстуры, которая используется в сетке, четыре числа с плавающей точкой: X и Y
координаты левого верхнего угла, ширина и высота.
<dt>mesh
<dd>Размеры сетки, два целых числа: число столбцов и строк. Значение по умолчанию - 2,2.
<dt>blendmode
<dd>Режим смешивания, список из одной или нескольких следующих констант:
<b>COLORMUL</b>, <b>COLORADD</b>, <b>ALPHABLEND</b>, <b>ALPHAADD</b>,
<b>ZWRITE</b>, <b>NOZWRITE</b>. Смотрите <a href="hgeconst_blendmode.html">Режимы смешивания</a> для
детального описания.
Значение по умолчанию <b>COLORMUL</b>, <b>ALPHABLEND</b>, <b>NOZWRITE</b>.
<dt>color
<dd>Цвет сетки искажения, шестнадцатиричное число: Смотрите <a href="hgedata_hwcolor.html">Аппаратный формат
цвета</a> для подробного описания. Значение по умолчанию - FFFFFFFF.
<dt>zorder
<dd>Z-глубина сетки искажения: число с плавающей точкой. Значение по умолчанию - 0.5.
<dt>resgroup
<dd>Целочисленный идентификатор группы. По умолчанию равен 0, что значит неопределенную группу.
</dl>
<p>
Пример:
</p>
<pre>
Distortion waves
{
 texture=title
 rect=0,0,400,200
 mesh=16,8
 color=FF2060F0
 resgroup=1
}
</pre>
<br>
</td></tr></table>
</td>

</tr></table>
</body>

</html>